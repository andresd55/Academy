{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-translate/core\";\nimport * as i2 from \"src/app/core/services/shared/shared.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/core/services/storage/storage.service\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../../shared/framework-ui/primeng/dialog/dialog\";\nimport * as i7 from \"../../../shared/framework-ui/primeng/api/shared\";\nimport * as i8 from \"../../../shared/framework-ui/primeng/button/button\";\n\nfunction NavbarComponent_ng_template_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵelementStart(1, \"div\", 20);\n    i0.ɵɵelementStart(2, \"div\", 27);\n    i0.ɵɵelementStart(3, \"p-button\", 28);\n    i0.ɵɵlistener(\"click\", function NavbarComponent_ng_template_36_Template_p_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.display = false;\n    });\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 27);\n    i0.ɵɵelementStart(6, \"a\", 29);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"label\", i0.ɵɵpipeBind1(4, 3, \"general.btnCancel\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r0.notificationActive == null ? null : ctx_r0.notificationActive.Url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 5, \"general.btnGo\"), \" \");\n  }\n}\n\nconst _c0 = function () {\n  return {\n    width: \"500px\"\n  };\n};\n\nexport let NavbarComponent = /*#__PURE__*/(() => {\n  class NavbarComponent {\n    constructor(translate, sharedService, router, storageService, formBuilder) {\n      this.translate = translate;\n      this.sharedService = sharedService;\n      this.router = router;\n      this.storageService = storageService;\n      this.formBuilder = formBuilder;\n      this.title = 'Microsoft identity platform';\n      this.isIframe = false;\n      this.loginDisplay = false;\n      this.isEnglish = true;\n      this._destroying$ = new Subject();\n      this.countrys = [];\n      this.business = [];\n      this.profile = [];\n      this.securityUsersId = 0;\n      this.indicatorButton = false;\n      this.isOperator = false;\n    }\n\n    ngOnInit() {\n      this.currentUserAplication = JSON.parse(localStorage.getItem('user'));\n    }\n\n    logout() {\n      this.storageService.logoutUser();\n    }\n\n    setLoginDisplay() {// this.loginDisplay = this.authService.instance.getAllAccounts().length > 0;\n    }\n\n    ngOnDestroy() {\n      this._destroying$.next(undefined);\n\n      this._destroying$.complete();\n    }\n\n    switchLang(lang, reload = true) {\n      this.isEnglish = true;\n      this.storageService.addLanguage(lang);\n      this.isEnglish = !(this.translate.currentLang == \"es\");\n\n      if (reload) {\n        this.translate.use(lang);\n        window.location.reload();\n      }\n    }\n\n    getForm() {\n      return this.registerForm = this.formBuilder.group({\n        countrys: ['', Validators.required],\n        business_facility: ['', Validators.required],\n        profile_role: ['', Validators.required]\n      });\n    }\n\n    onChangeContrys(event) {\n      this.business = [];\n      this.profile = [];\n      const filter = this.countrys.filter(list => list.countryId === event.value);\n      this.business = filter[0].business;\n    }\n\n    onChangeBusiness(event) {\n      this.profile = [];\n      const filter = this.business.filter(list => list.businessId === event.value);\n      this.profile = filter[0].groups;\n    }\n\n    onSubmitRole() {\n      this.prfileUserGrup(this.registerForm.get('business_facility').value, this.securityUsersId);\n    }\n\n    prfileUserGrup(businessId, securityUsersId) {\n      const data = {\n        \"businessId\": businessId,\n        \"role\": this.registerForm.get('profile_role').value\n      };\n      this.storageService.addProfiles(data);\n      this.indicatorButton = true;\n      this.sharedService.zoneIdSalesExecutiveGroupIdGet(businessId, securityUsersId).subscribe(response => {\n        console.log(response);\n\n        if (response.status) {\n          this.storageService.addGrup(response.data);\n          window.location.reload();\n        } else {\n          this.indicatorButton = false;\n        }\n      }, error => {\n        this.indicatorButton = false;\n      }, () => {\n        this.indicatorButton = false;\n      });\n    }\n\n  }\n\n  NavbarComponent.ɵfac = function NavbarComponent_Factory(t) {\n    return new (t || NavbarComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.SharedService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.StorageService), i0.ɵɵdirectiveInject(i5.FormBuilder));\n  };\n\n  NavbarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NavbarComponent,\n    selectors: [[\"app-navbar\"]],\n    decls: 37,\n    vars: 15,\n    consts: [[1, \"navbar\"], [\"href\", \"#\", 1, \"sidebar-toggler\"], [1, \"fas\", \"fa-bars\"], [1, \"navbar-content\"], [1, \"navbar-nav\"], [1, \"nav-item\", \"dropdown\", \"nav-profile\"], [\"href\", \"#\", \"id\", \"profileDropdown\", \"role\", \"button\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"dropdown-toggle\"], [\"src\", \"../../../../assets/images/Log_out.svg\", \"alt\", \"profile\"], [\"aria-labelledby\", \"profileDropdown\", 1, \"dropdown-menu\"], [1, \"dropdown-header\", \"d-flex\", \"flex-column\", \"align-items-center\"], [1, \"info\", \"text-center\"], [\"src\", \"../../../../assets/images/user.jpg\", \"alt\", \"profile\", 1, \"profile\", \"m-0\"], [1, \"name\", \"font-weight-bold\", \"mb-0\"], [1, \"email\", \"text-muted\", \"mb-3\"], [1, \"dropdown-body\"], [1, \"profile-nav\", \"p-0\", \"pt-3\"], [1, \"nav-item\"], [\"href\", \"javascript:;\", 1, \"nav-link\", 3, \"click\"], [\"data-feather\", \"log-out\"], [3, \"visible\", \"contentStyleClass\", \"modal\", \"baseZIndex\", \"draggable\", \"showHeader\", \"resizable\", \"visibleChange\"], [1, \"row\"], [1, \"col-md-12\", \"text-center\"], [1, \"far\", \"fa-check-circle\", \"font50\"], [1, \"col-md-12\", \"text-center\", \"mt-24\"], [1, \"col-md-12\", \"text-center\", \"mt-16\", \"description-page\"], [\"pTemplate\", \"footer\"], [1, \"col-md-12\", \"text-center\", \"mt-16\"], [1, \"col-6\"], [\"styleClass\", \"button button-secundary continue mr-16 w-100\", 3, \"label\", \"click\"], [\"rel\", \"noopener noreferrer\", \"type\", \"button\", 1, \"button\", \"button-primary\", \"button-save\", \"w-100\", 3, \"href\"]],\n    template: function NavbarComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\", 0);\n        i0.ɵɵelementStart(1, \"a\", 1);\n        i0.ɵɵelement(2, \"em\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"ul\", 4);\n        i0.ɵɵelementStart(5, \"li\", 5);\n        i0.ɵɵelementStart(6, \"a\", 6);\n        i0.ɵɵelement(7, \"img\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 8);\n        i0.ɵɵelementStart(9, \"div\", 9);\n        i0.ɵɵelementStart(10, \"div\", 10);\n        i0.ɵɵelement(11, \"img\", 11);\n        i0.ɵɵelementStart(12, \"p\", 12);\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"p\", 13);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"p\", 13);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 14);\n        i0.ɵɵelementStart(19, \"ul\", 15);\n        i0.ɵɵelementStart(20, \"li\", 16);\n        i0.ɵɵelementStart(21, \"a\", 17);\n        i0.ɵɵlistener(\"click\", function NavbarComponent_Template_a_click_21_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵelement(22, \"i\", 18);\n        i0.ɵɵelementStart(23, \"span\");\n        i0.ɵɵtext(24, \"Cerrar Sesi\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"p-dialog\", 19);\n        i0.ɵɵlistener(\"visibleChange\", function NavbarComponent_Template_p_dialog_visibleChange_25_listener($event) {\n          return ctx.display = $event;\n        });\n        i0.ɵɵelementStart(26, \"div\", 20);\n        i0.ɵɵelementStart(27, \"div\", 21);\n        i0.ɵɵelement(28, \"em\", 22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 23);\n        i0.ɵɵelementStart(30, \"p\");\n        i0.ɵɵelementStart(31, \"b\");\n        i0.ɵɵtext(32);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 24);\n        i0.ɵɵelementStart(34, \"p\");\n        i0.ɵɵtext(35);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(36, NavbarComponent_ng_template_36_Template, 9, 7, \"ng-template\", 25);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(13);\n        i0.ɵɵtextInterpolate1(\" \", ctx.currentUserAplication.nombre, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" (\", ctx.currentUserAplication.usuario, \") \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.currentUserAplication.email, \" \");\n        i0.ɵɵadvance(8);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(14, _c0));\n        i0.ɵɵproperty(\"visible\", ctx.display)(\"contentStyleClass\", \"border-top\")(\"modal\", true)(\"baseZIndex\", 10000)(\"draggable\", false)(\"showHeader\", false)(\"resizable\", false);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate(ctx.notificationActive == null ? null : ctx.notificationActive.Tittle);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.notificationActive == null ? null : ctx.notificationActive.Message);\n      }\n    },\n    directives: [i6.Dialog, i7.PrimeTemplate, i8.Button],\n    pipes: [i1.TranslatePipe],\n    styles: [\".dropdown-header-notification[_ngcontent-%COMP%]{padding-top:24px;padding-left:33px;padding-right:33px;font:normal normal normal 18px Montserrat;width:324px;color:#707070;opacity:1;letter-spacing:0px}.navbar[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.nav-apps[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-body[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.nav-notifications[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-body-notification[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-item.nav-messages[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-body-notification[_ngcontent-%COMP%]{padding-left:21px;padding-right:21px;position:relative;overflow-y:auto}.profile[_ngcontent-%COMP%]{width:50px!important;height:50px!important}\"]\n  });\n  return NavbarComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}